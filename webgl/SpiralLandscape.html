<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>SpiralLandscape</title>

    <style>
      body
      {
        margin: 0px;
        background: #000000;
      }

      #canvas
      {
        display: block;
        width: 100vw;
        height: 100vh;
      }

      #progress
      {
        position: absolute;
        top: 50%;
        left: 50%;
        margin-left:-12px;
        margin-top:-12px
      }
    </style>
  </head>

  <body>
    <canvas id="canvas" oncontextmenu="event.preventDefault()"></canvas>

    <img id="progress" src="progress_dark.gif" width="24" height="24" />

    <script type="text/javascript">
      var Module =
      {
        canvas: (function ()
        {
          return document.getElementById('canvas');
        })()
      };
    </script>

    <script>

      (function() {
        var memoryInitializer = 'SpiralLandscape.html.mem';
        if (typeof Module['locateFile'] === 'function') {
          memoryInitializer = Module['locateFile'](memoryInitializer);
        } else if (Module['memoryInitializerPrefixURL']) {
          memoryInitializer = Module['memoryInitializerPrefixURL'] + memoryInitializer;
        }
        var xhr = Module['memoryInitializerRequest'] = new XMLHttpRequest();
        xhr.open('GET', memoryInitializer, true);
        xhr.responseType = 'arraybuffer';
        xhr.send(null);
      })();

      var script = document.createElement('script');
      script.src = "SpiralLandscape.js";
      
      script.onload = function()
      {
        document.getElementById("progress").style.display = 'none';
      };

      script.onreadystatechange = function()
      {
        if (script.readyState == "loaded" || script.readyState == "complete")
        {
          script.onreadystatechange = null;
          document.getElementById("progress").style.display = 'none';
        }
      }
      
      document.body.appendChild(script);

    </script>
  </body>
</html>
